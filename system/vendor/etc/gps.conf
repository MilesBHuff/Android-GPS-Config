##################################################
# gps.conf file for improving GPS functionality on
# bq Aqaris 5 phones
#
# version 0.0.7 by Astralix
##################################################

##################################################
# Adapt the country tuple according your location
# Find out how at this link:
# http://www.pool.ntp.org/en/

NTP_SERVER=pool.ntp.org
NTP_SERVER_1=0.pool.ntp.org
NTP_SERVER_2=1.pool.ntp.org
NTP_SERVER_3=2.pool.ntp.org
NTP_SERVER_4=3.pool.ntp.org

##################################################
# Locations of AGPS and XTRA files

# AGPS=http://derekgordon.com/gps-files/bin/xtra.bin
XTRA_SERVER_1=http://xtra1.gpsonextra.net/xtra.bin
XTRA_SERVER_2=http://xtra2.gpsonextra.net/xtra.bin
XTRA_SERVER_3=http://xtra3.gpsonextra.net/xtra.bin
XTRA_SERVER_4=http://xtra4.gpsonextra.net/xtra.bin
XTRA_SERVER_5=http://xtra5.gpsonextra.net/xtra.bin

#Uncommenting these urls would only enable
#the power up auto injection and force injection(test case).
XTRA_SERVER_1=https://xtrapath1.izatcloud.net/xtra3grc.bin
XTRA_SERVER_2=https://xtrapath2.izatcloud.net/xtra3grc.bin
XTRA_SERVER_3=https://xtrapath3.izatcloud.net/xtra3grc.bin
XTRA_SERVER_4=https://ssl.gpsonextra.net/xtra3grc.bin
XTRA_SERVER_5=https://ssl.izatcloud.net/xtra3grc.bin

#Test for XTRA
XTRA_TEST_ENABLED = 1

#Version check for XTRA
#DISABLE = 0
#AUTO    = 1
#XTRA2   = 2
#XTRA3   = 3
XTRA_VERSION_CHECK=3

#XTRA CA path
XTRA_CA_PATH=/system/etc/security/cacerts

##################################################
# GPS daemon startup parameters

DEFAULT_AGPS_ENABLE=TRUE
DEFAULT_USER_PLANE=TRUE
DEFAULT_SSL_ENABLE=FALSE

##################################################
# DEBUG LEVELS: 0 - none, 1 - Error, 2 - Warning,
# 	3 - Info, 4 - Debug, 5 - Verbose
# If DEBUG_LEVEL is commented, Android's logging levels will be used
DEBUG_LEVEL=3

##################################################
# Use intermediate position information of not
# completely locked satellites

# Intermediate position report, 1=enable, 0=disable
INTERMEDIATE_POS=1

# Accuracy threshold for intermediate positions
# less accurate positions are ignored, 0 for passing all positions
ACCURACY_THRES=3000

# Below bit mask configures how GPS functionalities
# should be locked when user turns off GPS on Settings
# Set bit 0x1 if MO GPS functionalities are to be locked
# Set bit 0x2 if NI GPS functionalities are to be locked
# default - non is locked for backward compatibility
#GPS_LOCK = 0

##################################################
# SUPL version 3.0
SUPL_VER=0x30000

##################################################
# Error estimation
# _SET = 1
# _CLEAR = 0
ERR_ESTIMATE=0

##################################################
# GPS Capabilities bit mask
# SCHEDULING = 0x01
# MSB = 0x02
# MSA = 0x04
# ON_DEMAND_TIME = 0x10
# GEOFENCE/ULP = 0x20
# default = ON_DEMAND_TIME | MSA | MSB | SCHEDULING | GEOFENCE/ULP
CAPABILITIES=0x35

##################################################
# Quality limits for data to be used for
# referencing our position

QOS_ACCURACY=50
QOS_TIME_OUT_AGPS=95
QOS_TIME_OUT_STANDALONE=80
QosHorizontalThreshold=1000
QosVerticalThreshold=500

##################################################
# AGPS configuration options

AssistMethodType=1
AgpsUse=1
AgpsServerType=1
AgpsServerIp=3232235555
AgpsMtConf=0
AgpsMtResponseType=1

##################################################
# AGPS supplying server settings
# Check that /sytem/etc/SuplRootCert is available
# before enabling SUPL_TLS_*

# FOR SUPL SUPPORT, set the following
# SUPL_HOST=supl.google.com
# SUPL_PORT=7276
# SUPL_SECURE_PORT=7275
# SUPL_NO_SECURE_PORT=3425
# SUPL_TLS_HOST=FQDN
# SUPL_TLS_CERT=/etc/SuplRootCert

# Report supl ref location as position, 1=enabled, 0=disabled
REPORT_POSITION_USE_SUPL_REFLOC=1

# Emergency SUPL, 1=enable, 0=disable
SUPL_ES=1

#Choose PDN for Emergency SUPL
#1 - Use emergency PDN
#0 - Use regular SUPL PDN for Emergency SUPL
USE_EMERGENCY_PDN_FOR_EMERGENCY_SUPL=1

#SUPL_MODE is a bit mask set in config.xml per carrier by default.
#If it is uncommented here, this value will overwrite the value from
#config.xml.
#MSA=0X2
#MSB=0X1
SUPL_MODE=0X2

# Bitmask of slots that are available
# for write/install to, where 1s indicate writable,
# and the default value is 0 where no slots
# are writable. For example, AGPS_CERT_WRITABLE_MASK
# of b1000001010 makes 3 slots available
# and the remaining 7 slots unwritable.
#AGPS_CERT_WRITABLE_MASK=0

### AGPS alternative setting NOKIA ###############
# SUPL_HOST=supl.nokia.com
# SUPL_PORT=7275

### AGPS alternative setting  SONY ###############
# SUPL_HOST=supl.sonyericsson.com
# SUPL_PORT=7275

### AGPS alternative setting T-MOBILE ############
SUPL_HOST=10.176.29.225
SUPL_PORT=7275
SUPL_TLS_HOST=lbs.geo.t-mobile.com
SUPL_TLS_CERT=/etc/SuplRootCertTMO
REPORT_POSITION_USE_SUPL_REFLOC=1

##################################################
# NEVER SET THIS AS IT IS FOR TESTING ONLY AND
# REQUIRES YOU TO HAVE C2K PDE EQUIPMENT FOR GPS
# SIMULATION AND KNOW HOW TO HANDLE IT!
# FOR C2K PDE SUPPORT, set the following
# C2K_HOST=c2k.pde.com
# C2K_PORT=1234

##################################################
# Sensor Settings

# Needs to be set explicitly based on sensor
# There is no default value.
#GYRO_BIAS_RANDOM_WALK=

# These are the defaults inside android code.
SENSOR_ACCEL_BATCHES_PER_SEC=2
SENSOR_ACCEL_SAMPLES_PER_BATCH=5
SENSOR_GYRO_BATCHES_PER_SEC=2
SENSOR_GYRO_SAMPLES_PER_BATCH=5

# Sensor Control Mode (0=AUTO, 1=FORCE_ON)
SENSOR_CONTROL_MODE=0

# Control use of Sensors for GPS
SENSOR_USAGE=1

# Choose GSIFF sensor provider (1=DSPS, 2=Android NDK)
SENSOR_PROVIDER=2

# Use WiFi Position to support AGPS, 1=enabled, 0=disabled
ENABLE_WIPER=1


##################################################
# Carrier tags

CURRENT_CARRIER=common
PHONE_TYPE=UMTS

####################################
#  LTE Positioning Profile Settings
####################################
# 0: Enable RRLP on LTE(Default)
# 1: Enable LPP_User_Plane on LTE
# 2: Enable LPP_Control_Plane
# 3: Enable both LPP_User_Plane and LPP_Control_Plane
LPP_PROFILE = 3

################################
# EXTRA SETTINGS
################################
# NMEA provider (1=Modem Processor, 0=Application Processor)
NMEA_PROVIDER=1
# Mark if it is a SGLTE target (1=SGLTE, 0=nonSGLTE)
SGLTE_TARGET=1

##################################################
# Select Positioning Protocol on A-GLONASS system
##################################################
# 0x1: RRC CPlane
# 0x2: RRLP UPlane
# 0x4: LLP Uplane
A_GLONASS_POS_PROTOCOL_SELECT = 0x4

##################################################
# Select technology for LPPe Control Plane
##################################################
# 0x1: DBH for LPPe CP
# 0x2: WLAN AP Measurements for LPPe CP
# 0x4: SRN AP measurement for CP
# 0x8: Sensor Barometer Measurement LPPe CP
LPPE_CP_TECHNOLOGY = 0x2

##################################################
# AGPS_CONFIG_INJECT
##################################################
# enable/disable injection of AGPS configurations:
#     SUPL_VER
#     SUPL_HOST
#     SUPL_PORT
#     C2K_HOST
#     C2K_PORT
#     LPP_PROFILE
#     A_GLONASS_POS_PROTOCOL_SELECT
# 0: disable
# 1: enable
AGPS_CONFIG_INJECT = 1

##################################################
# GNSS settings for automotive use cases
# Configurations in following section are
# specific to automotive use cases, others
# please do not change, keep the default values
##################################################

##################################################
# AP Coarse Timestamp Uncertainty
##################################################
# default : 10
# AP time stamp uncertainty, until GNSS receiver
# is able to acquire better timing information
AP_TIMESTAMP_UNCERTAINTY = 10

##################################################
# QDR engine availability status
##################################################
# 0 : NO QDR (default)
# 1 : QDR enabled
# This settings enables QDR Configuration for
# automotive use case, if enabled then
# DR_AP_Service needs to be enabled in izat.con
#EXTERNAL_DR_ENABLED = 0

#####################################
# DR_SYNC Pulse Availability
#####################################
# 0 : DR_SYNC pulse not available (default)
# 1 : DR_SYNC pulse available
# This configuration enables the driver to make use
# of PPS events generated by DR_SYNC pulse
# Standard Linux PPS driver needs to be enabled
DR_SYNC_ENABLED = 0

#####################################
# PPS Device name
#####################################
PPS_DEVICENAME = /dev/pps0

#####################################
# AP Clock Accuracy
#####################################
# Quality of APPS processor clock (in PPM).
# Value specified is used for calculation of
# APPS time stamp uncertainty
AP_CLOCK_PPM = 100

#####################################
# MAX ms difference to detect missing pulse
#####################################
# Specifies time threshold in ms to validate any missing PPS pulses
MISSING_PULSE_TIME_DELTA = 900

#####################################
# Propagation time uncertainty
#####################################
# This settings enables time uncertainty propagation
# logic incase of missing PPS pulse
PROPAGATION_TIME_UNCERTAINTY = 1

###### END OF CONFIG ######
